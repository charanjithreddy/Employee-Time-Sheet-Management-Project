<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>timesheet entry screen</title>
</head>
<body>

    <label for="ename">Employee Name: </label>
    <input type="text" name="" id="ename">

    <label for="from_date">FROM DATE: </label>
    <input type="date" name="" id="from_date">

    <label for="to_date">TO DATE: </label>
    <input type="date" name="" id="to_date">
    <br>
    <button type="submit" onclick="get_details()">GET TIMESHEET</button>

    <p>OUTPUT</p>
    <div id="output">

    </div>
    
    <h1>ADD WORK DETAILS</h1>
    <label for="add_date">DATE: </label>
    <input type="date" name="" id="add_date">

    <label for="work_hours">No. of Work hours</label>
    <input type="text" name="" id="work_hours">

    <button type="submit()">UPDATE</button>
    
    <button onclick="goto_employee_login_creation()">CREATE EMPLOYEE LOGIN</button>
    <button onclick="goto_logout()">LOGOUT</button>

    <script>
        function goto_logout(){
            window.location.href="logout.html";
        }

        function goto_employee_login_creation(){
            window.location.href="employee_login_creation.html"
        }
        function get_details() {
            const ename = document.getElementById("ename").value;
            const fromDate = new Date(document.getElementById("from_date").value);
            const toDate = new Date(document.getElementById("to_date").value);

            if (!ename || isNaN(fromDate) || isNaN(toDate) || fromDate > toDate) {
                alert("Please enter a valid name and date range.");
                return;
            }

            const outputDiv = document.getElementById("output");
            outputDiv.innerHTML = "";  // Clear previous content

            const table = document.createElement("table");
            table.border = "1";

            const headerRow = document.createElement("tr");
            const nameCell = document.createElement("th");
            nameCell.innerText = "Activity \\ Date";
            headerRow.appendChild(nameCell);

            const dateList = [];
            for (let d = new Date(fromDate); d <= toDate; d.setDate(d.getDate() + 1)) {
                const dateCell = document.createElement("th");
                const dateStr = d.toISOString().split('T')[0];
                dateCell.innerText = dateStr;
                headerRow.appendChild(dateCell);
                dateList.push(dateStr);
            }

            // Add Total header
            const totalHeader = document.createElement("th");
            totalHeader.innerText = "Total";
            headerRow.appendChild(totalHeader);

            table.appendChild(headerRow);

            const activities = ["Coding", "Meeting"];

            for (let activity of activities) {
                const row = document.createElement("tr");
                const activityCell = document.createElement("td");
                activityCell.innerText = activity;
                row.appendChild(activityCell);

                let totalHours = 0;

                for (let i = 0; i < dateList.length; i++) {
                    const dataCell = document.createElement("td");
                    dataCell.innerText = (i+1);  // placeholder hours
                    totalHours += (i+1);
                    row.appendChild(dataCell);
                }

                // Add total cell
                const totalCell = document.createElement("td");
                totalCell.innerText = totalHours;
                row.appendChild(totalCell);

                table.appendChild(row);
            }

    outputDiv.appendChild(table);
    }


    </script>
</body>
</html>